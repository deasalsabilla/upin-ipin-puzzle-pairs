<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upin Ipin Puzzle Pairs</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lilita+One&family=Poppins:wght@100;300;400;700&family=Roboto:wght@100&display=swap"
      rel="stylesheet"
    />
    <style>
      @keyframes wobble {
        0%,
        100% {
          transform: translateX(0);
        }
        15% {
          transform: translateX(-25%) rotate(-5deg);
        }
        30% {
          transform: translateX(20%) rotate(3deg);
        }
        45% {
          transform: translateX(-15%) rotate(-3deg);
        }
        60% {
          transform: translateX(10%) rotate(2deg);
        }
        75% {
          transform: translateX(-5%) rotate(-1deg);
        }
      }

      .wobble-infinite {
        animation: wobble 1s infinite;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 class="game-title animate__animated animate__bounceInDown">
        Upin Ipin Puzzle Pairs
      </h1>
      <img
        class="animate__animated wobble-infinite"
        src="assets/icon.png"
        alt=""
      />
      <br />
      <button
        class="play-button animate__animated animate__bounceInUp"
        onclick="startGame()"
      >
        Mulai
      </button>
      <br />

      <button
        class="play-button animate__animated animate__bounceIn"
        onclick="showCredit()"
      >
        Credit
      </button>
    </div>

    <script>
      const startSound = new Audio("assets/sound/start.mp3");
      const songs = ["lagu1.mp3", "lagu2.mp3", "lagu3.mp3"];
      let isStartSoundPlaying = false; // Flag to track if start sound is playing
      let isRandomSongPlaying = false; // Flag to track if a random song is playing

      function playRandomSong() {
        isStartSoundPlaying = false; // Reset the flag after playing the start sound
        isRandomSongPlaying = true; // Set the flag when a random song is playing

        const randomIndex = Math.floor(Math.random() * songs.length);
        const randomSong = new Audio("assets/sound/" + songs[randomIndex]);
        randomSong.addEventListener("ended", function () {
          isRandomSongPlaying = false; // Reset the flag after the random song ends
        });
        randomSong.play();
      }

      startSound.addEventListener("ended", playRandomSong);

      document.addEventListener("click", function (event) {
        const clickedElement = event.target;

        // Check if the clicked element is not the "Credit" button
        if (!clickedElement.classList.contains("credit-button")) {
          if (!isStartSoundPlaying && !isRandomSongPlaying) {
            startSound.play();
            isStartSoundPlaying = true; // Set the flag when the start sound is playing
          }
        }
      });
    </script>

    <script src="script.js"></script>
  </body>
</html>
